<html>

<head>

    <meta charset="UTF-8">
    <meta name="author" content="Gustavo Ferreira">

    <title>PS Hints in UFO</title>

    <style>
        body { font-family: 'LucidaGrande', 'Verdana', sans-serif; padding: 3em; line-height: 1.5em; }
        h2, h3 { margin-top: 2em; }
        code { font-family: 'SourceCodePro-Medium', 'Menlo', monospace; background-color: #E0E0E0; padding: 0 .2em; }
        a { text-decoration: none; }
        a:hover { position: relative; top: 1px; left: 1px; }
        hr { border: 0; border-bottom: 1px solid #999; margin: 3em 0 1em; }
        ::selection { background-color: #DDD; }
        ::-moz-selection { background-color: #DDD; }
        .highlight { color: #F00; }
    </style>

</head>

<body>

    <h1>PS Hints in UFO</h1>

    <h2>0. Introduction</h2>

    <ul>
        <li>PostScript hints are not (yet) covered by the UFO specification</li>
        <li>RoboFont does not support manual editing of PS hints (only ADFKO autohinting on font-generation)</li>
        <li>the purpose of this document is to support the process of defining a standard format for PS hints in UFO</li>
    </ul>

    <h2>1. Available formats and implementations</h2>

    <h3>1.1. RoboFab / UFOCentral</h3>

    <ul>
        <li><a href='http://robodocs.info/roboFabDocs/source/objects/psHints.html'>font-level</a> and <a href='http://www.robodocs.info/roboFabDocs/source/objects/psHintsGlyph.html'>glyph-level</a> <code>psHints</code> attributes: <code>f.psHints</code>, <code>g.psHints</code></li>
        <li>API documented in the RoboFab documentation</li>
        <li>supports both hints and FL “links”</li>
        <li>glyph hints can be acessed and manipulated with Python</li>
        <li>Superpolator3 can interpolate between links (but not between hints)</li>
        <li>font-level data is also available in the <code>RInfo</code> object</li>
        <li>glyph-level data is also available in <code>g.lib['org.robofab.postScriptHintData']</code></li>
        <li>font- and glyph-level <code>psHints</code> attributes are not available in RoboFont’s wrapper objects</li>
    </ul>

    <h4>Tests and examples</h4>

    <ul>
        <li><a href='data/test-UFOCentral-hints.py'>test-UFOCentral-hints.py</a></li>
        <li><a href='data/TestFont_UFOCentral_hints.ufo/glyphs/B_.glif'>example <code>.glif</code> file with hints</a></li>
    </ul>

    <ul>
        <li><a href='data/test-UFOCentral-links.py'>test-UFOCentral-links.py</a></li>
        <li><a href='data/TestFont_UFOCentral_links.ufo/glyphs/B_.glif'>example <code>.glif</code> file with links</a></li>
    </ul>

    <h3>1.2. AFDKO autohint</h3>

    <ul>
        <li>AFDKO’s <code>autohint</code> can be applied to UFOs</li>
        <li>by default, hinted glyphs are stored in a separate UFO3 layer named <code>glyphs.com.adobe.type.processedGlyphs</code></li>
        <li>glyph-level data is stored in <code>g.lib['com.adobe.type.autohint']</code></li>
        <li>glyph hints are wrapped in a <code>&lt;data&gt;</code> tag and cannot be acessed or manipulated with RoboFab</li>
    </ul>

    <h4>Tests and examples</h4>

    <ul>
        <li><a href='data/TestFont_AFDKO-autohint.ufo/glyphs.com.adobe.type.processedGlyphs/B_.glif'>example <code>.glif</code> file with hints (autohinted with AFDKO)</a></li>
    </ul>

    </div>

    <h3>1.3. vfb2ufo</h3>

    <ul>
        <li>follows the AFDKO format, with hints stored in the default layer</li>
        <li>produces the same output for hints and links</li>
    </ul>

    <h4>Tests and examples</h4>

    <ul>
        <li><a href='data/test-vfb2ufo-hints-links.py'>test-vfb2ufo-hints-links.py</a></li>
        <li><a href='data/TestFont_vfb2ufo_hints.ufo/glyphs/B_.glif'>example <code>.glif</code> file with hints</a></li>
        <li><a href='data/TestFont_vfb2ufo_links.ufo/glyphs/B_.glif'>example <code>.glif</code> file with links (same output)</a></li>
    </ul>

    <h2>2. Comments</h2>

    <ul>
        <li>there should be one standard way to describe hints in UFOs</li>
        <li>PS hints should be covered by the UFO specification</li>
        <li>all implementations of PS hints in UFO (AFDKO, RoboFont, FontLab &amp; others) must follow the specified format</li>
        <li>it should be possible to manually edit PS hints in RoboFont (extension?)</li>
    </ul>

    <hr/>

    <p>for comments, suggestions, corrections – please get in touch <a href='http://twitter.com/hipertipo'>@hipertipo</a> <a href='mailto:gustavo@hipertipo.com'>gustavo@hipertipo.com</a></p>

    <p>last edited on 01/08/2016 XX:XX GMT</p>

</body>

</html>
